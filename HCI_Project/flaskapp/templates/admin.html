
<!DOCTYPE html>

<html lang="en-US">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Responsive One Page website template</title>
	   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

      <link rel="stylesheet" href="{{ url_for('static', filename='css/components.css') }}">
      <link rel="stylesheet" href="{{ url_for('static', filename='css/responsee.css') }}">
      <link rel="stylesheet" href="{{ url_for('static', filename='css/icons.css') }}">
      <link rel="stylesheet" href="{{ url_for('static', filename='owl-carousel/owl.carousel.css') }}">
      <link rel="stylesheet" href="{{ url_for('static', filename='owl-carousel/owl.theme.css') }}">
	  <link rel="stylesheet" href="{{ url_for('static', filename='css/image.css') }}">
       <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/css/star-rating.css') }}" media="all" type="text/css"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='themes/krajee-fa/theme.css') }}" media="all" type="text/css"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='themes/krajee-svg/theme.css') }}" media="all" type="text/css"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='themes/krajee-uni/theme.css') }}" media="all" type="text/css"/>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="{{ url_for('static', filename='js/js/star-rating.js') }}" type="text/javascript"></script>
    <script src="{{ url_for('static', filename='../js/themes/krajee-fa/theme.js') }}" type="text/javascript"></script>
    <script src="{{ url_for('static', filename='../js/themes/krajee-svg/theme.js') }}" type="text/javascript"></script>
    <script src="{{ url_for('static', filename='../js/themes/krajee-uni/theme.js') }}" type="text/javascript"></script>
      <!-- CUSTOM STYLE -->
      <link rel="stylesheet" href="{{ url_for('static', filename='css/template-style.css') }}">
      <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
     
      <script type="text/javascript" src="{{ url_for('static', filename='js/jquery-ui.min.js') }}"></script>
      <script type="text/javascript" src="{{ url_for('static', filename='js/template-scripts.js') }}"></script>
	  <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="crossorigin="anonymous"></script>
	  <script src="https://www.w3schools.com/lib/w3data.js"></script>
	  
	  <link href="{{ url_for('static', filename = 'c3.css') }}" rel="stylesheet" type="text/css">

	<!-- Load d3.js and c3.js -->
	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<script src = "{{ url_for('static', filename = 'c3.min.js') }}" ></script>
	  
	<link rel="stylesheet" href="https://cdn.datatables.net/1.10.15/css/jquery.dataTables.min.css" media="all" type="text/css"/>
	<script src="https://code.jquery.com/jquery.js"></script>
	<!-- <script src="https://cdn.datatables.net/buttons/1.2.2/js/dataTables.buttons.min.js"></script> -->
    <!-- <script src="https://cdn.datatables.net/buttons/1.2.2/js/buttons.html5.min.js"></script> -->
    <!-- <script src="https://cdn.datatables.net/fixedheader/3.1.2/js/dataTables.fixedHeader.min.js"></script> -->
    <script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
       
   </head>

    <body class="size-1140">
      <!-- TOP NAV WITH LOGO -->
      <header>
         <div id="topbar">
            <div class="line">
               <div class="s-12 m-6 l-6">
                  <p>Hi <strong>Admin</strong> </p>
               </div>
             <div class="offset8">
                     <form id="logout" method="post" action="logout" enctype="multipart/form-data">
                         <button type="submit" class=" btn btn-success pull-right RbtnMargin">Logout</button>
                         </form>
            </div>
            </div>  
         </div> 
         <nav>
            <div class="line">
               <div class="s-12 l-2">
                  <p class="logo" style="width: 250px;">Admin page</p>
               </div>
               <div class="top-nav s-12 l-10">
                  <p class="nav-text">Custom menu text</p>
                  <ul class="right">
                     <li class="active-item"><a href="#carousel">Home</a></li>
                     <li><a href="#our-work">All Products</a></li>
                     <li><a href="#bar_chart">Bar Chart</a></li>
                     <li><a href="#Pie_chart">Pie Chart</a></li>
                     <li><a href="#contact">About Us</a></li>
                  </ul>
               </div>
            </div>
         </nav>
      </header>  
	   <section>
         <!-- CAROUSEL --> 
         <div id="carousel">
            <div id="owl-demo" class="owl-carousel owl-theme"> 
               <div class="item">
                  <img src="{{ url_for('static', filename='img/armani_img6.jpg') }}" alt="">
                </div>
			</div>
      <br>
      <br>
		</div>
		<!-- OUR WORK -->
		 
         <div id="our-work">
            <div class="line">
               <h2 class="section-title">All Products</h2>
						<table id="example" class="display compact" cellspacing="0" width="100%">
							<thead>
								<tr style="font-size:15px;color:#107896;font-weight: bold;">
								<th>Product Name</th><th>Price</th><th>Positive Count</th><th>Negative Count</th><th>Total Count</th>
								</tr>
						</thead>
					</table>

                  
                  </div>
               </div>
			   
		<!-- BAR CHART -->
		 
         <div id="bar_chart">
            <div class="line">
               <h2 class="section-title">Bar Chart</h2>
					<div id="chart1">
					</div>
                  
                  </div>
               </div>
			   
		<!-- PIE CHART -->
		 
         <div id="Pie_chart">
            <div class="line">
               <h2 class="section-title">Pie Chart</h2>
					<div id="chart2">
					</div>
                  
                  </div>
               </div>

                 
		 </section>
     
      <script type="text/javascript" src="{{ url_for('static', filename='js/responsee.js')}}"></script>
      <script type="text/javascript" src="{{ url_for('static', filename='owl-carousel/owl.carousel.js')}}"></script>

   </body>
   <script>

// data=[
//             {name: 'P1', price: 250, positive: 7, negative: 13},
//             {name: 'P2', price: 650, positive: 11, negative: 3},
//             {name: 'P3', price: 1000, positive: 2, negative: 4},
//             {name: 'P4', price: 200, positive: 7, negative: 1},
// 			{name: 'P5', price: 150, positive: 8, negative: 02},
//             {name: 'P6', price: 400, positive: 11, negative: 15},
//             {name: 'P7', price: 750, positive: 6, negative: 2},
//             {name: 'P8', price: 786, positive: 13, negative: 08},
// 			{name: 'P9', price: 110, positive: 11, negative: 13},
//         ];

d3.json("/data", function(error, json) {
  if (error) return console.warn(error);
  data = json;

var table = $('#example').DataTable({
                    "sDom": 'Bltipr',
                    fixedHeader: true,
                    "aaData": data,
                    buttons: [
                        'csv'
                    ],
                    "aoColumns": [{
                        "mDataProp": "productname"
                    }, {
                        "mDataProp": "price"
                    }, {
                        "mDataProp": "positivecount"
                    }, {
                        "mDataProp": "negativecount"						
                    }, {
                        "mDataProp": "total"           
                    }]
                });
        
var chart = c3.generate({
    data: {
        json: data,
        keys: {
            x: 'productname', // it's possible to specify 'x' when category axis
            value: ['positivecount','negativecount'],
        },
        type: 'bar',
        empty: { label: { text: "No Data Available" }   }
    },
    bar: {
        width: {
            ratio: 0.5 // this makes bar width 50% of length between ticks
        }
        // or
        //width: 100 // this makes bar width 100px
    },
    axis: {
	x: {
       type: 'category',
       label: 'Products'

    },
    y:{
       label: 'Count' 
	}
    },
	bindto: d3.select('#chart1')
});

var pos=0;
var neg=0;
for (var i = 0, len = data.length; i < len; i++) {
  pos+=data[i]['positivecount'];
  neg+=data[i]['negativecount'];
}

var chart2 = c3.generate({
    data: {
        // iris data from R
        columns: [
            ['Positive', pos],
            ['Negative', neg],
        ],
        type : 'pie',
        onclick: function (d, i) { console.log("onclick", d, i); },
        onmouseover: function (d, i) { console.log("onmouseover", d, i); },
        onmouseout: function (d, i) { console.log("onmouseout", d, i); }
    },
	bindto: d3.select('#chart2')
});

});

</script>
   
</html>
